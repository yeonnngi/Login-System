<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0 maximum-scale=1.5, minimum-scale=1.0, user-scalable=no">
  <link rel=" stylesheet" href="./css/reset_pw.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
  <title>login_join</title>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      const body = document.querySelector('body');
      const userPw1 = document.getElementById('userPw1');
      const userPw2 = document.getElementById('userPw2');
      const checkBtn = document.getElementById('checkBtn');

      userPw1.addEventListener('change', checkPw);
      userPw2.addEventListener('change', comparePw);

      function checkPw() {
        const pwBg = document.getElementById('pwBg')
        const pwBox = document.getElementById('pwBox')
        const pwChkBtn = document.getElementById('pwChkBtn')
        const regPw = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[~!@#$%^&*()+|=])[A-Za-z\d~!@#$%^&*()+|=]{8,16}$/;


        pwChkBtn.addEventListener('click', hide)

        if (!regPw.test(userPw1.value)) {
          window.scrollTo(0, 0);
          body.style.overflow = 'hidden';
          pwBox.style.display = 'block';
          pwBg.style.display = 'block';
        }

        function hide() {
          pwBg.style.display = 'none';
          pwBox.style.display = 'none';
          body.style.overflow = 'visible';
          userPw1.select();
        }
      } //checkPw()


      function comparePw() {
        const comparePwBg = document.getElementById('comparePwBg')
        const comparePw = document.getElementById('comparePwBox')
        const comparePwBtn = document.getElementById('comparePwBtn')
        const finishBg = document.getElementById('finishBg')
        const finishBox = document.getElementById('finishBox')
        const PassBtn = document.getElementById('PassBtn')


        if (userPw1.value !== userPw2.value) {
          window.scrollTo(0, 0);
          body.style.overflow = 'hidden';
          comparePwBg.style.display = 'block';
          comparePw.style.display = 'block';

          comparePwBtn.addEventListener('click', () => {
            comparePwBg.style.display = 'none';
            comparePw.style.display = 'none';
            body.style.overflow = 'visible';
            userPw2.select();
          })
        } else {
          window.scrollTo(0, 0);
          body.style.overflow = 'hidden';
          finishBg.style.display = 'block';
          finishBox.style.display = 'block';

          PassBtn.addEventListener('click', () => {
            location.href = './login.html'
          })
        }
      } //comparePw()
    });
  </script>
</head>

<body>
  <!-- ------------------ popup ------------------ -->
  <section class="popUp_pw">
    <div id="pwBg" class="popBg"></div>
    <div id="pwBox" class="popBox">
      <i class="fas fa-exclamation-circle"></i>
      <p>하나 이상의 영문 대/소문자, 숫자,<br />특수문자를 포함한 5~16자로 설정해주세요.</p>
      <button id="pwChkBtn"><span>확인</span></button>
    </div><!-- //popUp_pw -->
  </section>

  <section class="popUp_comparePw">
    <div id="comparePwBg" class="popBg"></div>
    <div id="comparePwBox" class="popBox">
      <i class="fas fa-exclamation-circle"></i>
      <p>비밀번호가 일치하지 않습니다.<br /></p>
      <button id="comparePwBtn"><span>확인</span></button>
    </div><!-- //popUpPwChk_pwChk -->
  </section>

  <section class="popUp_finish">
    <div id="finishBg" class="popBg "></div>
    <div id="finishBox" class="popBox">
      <i class="fas fa-check-circle"></i>
      <p>비밀번호가 변경되었습니다.<br />다시 로그인해 주세요.</p>
      <button id="PassBtn"><span>확인</span></button>
    </div><!-- //popUp_codePass -->
  </section>
  <!-- ------------------ //popup ------------------ -->


  <!-- ------------------ find_pw ------------------ -->
  <section class="login">
    <div class="wrap kor">
      <div class="find_pw kor">
        <h1>비밀번호 재설정</h1>
      </div>

      <form name="loginForm" action="#">
        <ul class="findPw kor">
          <li class="pw">
            <label for="userPw1">비밀번호</label>
            <input type="password" id="userPw1" class="userPw1" placeholder="영문 대/소문자, 숫자, 특수문자를 포함한 5~16자"
              onfocus="this.placeholder=''" onblur="this.placeholder='영문 대/소문자, 숫자, 특수문자를 포함한 5~16자'" size="16"
              required>
          </li><!-- //pw -->

          <li class="pw_chk">
            <label for="userPw2">비밀번호 확인</label>
            <input type="password" id="userPw2" class="userPw2" placeholder="비밀번호를 한 번 더 입력해 주세요."
              onfocus="this.placeholder=''" onblur="this.placeholder='비밀번호를 한 번 더 입력해 주세요.'" size="16" required>
          </li><!-- //pw_chk -->
        </ul>

        <button type="button" id="checkBtn" class="checkBtn kor">비밀번호 변경</button>
        <button type="button" id="loginBtn" class="loginBtn kor"><a href="./login.html">로그인</a></button>

        <div class="bottom_line_01"></div>
    </div><!-- //wrap -->
  </section>
</body>

</html>